(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function j(){}function ge(e,t){for(const n in t)e[n]=t[n];return e}function oe(e){return e()}function Y(){return Object.create(null)}function N(e){e.forEach(oe)}function re(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let $;function ye(e,t){return $||($=document.createElement("a")),$.href=t,e===$.href}function be(e){return Object.keys(e).length===0}function _e(e,t,n,o){if(e){const r=ie(e,t,n,o);return e[0](r)}}function ie(e,t,n,o){return e[1]&&o?ge(n.ctx.slice(),e[1](o(t))):n.ctx}function ve(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],l=Math.max(t.dirty.length,r.length);for(let s=0;s<l;s+=1)i[s]=t.dirty[s]|r[s];return i}return t.dirty|r}return t.dirty}function xe(e,t,n,o,r,i){if(r){const l=ie(t,n,o,i);e.p(l,r)}}function we(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let o=0;o<n;o++)t[o]=-1;return t}return-1}function _(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function B(e){e.parentNode&&e.parentNode.removeChild(e)}function Be(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function le(e){return document.createTextNode(e)}function O(){return le(" ")}function Se(){return le("")}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ke(e){return Array.from(e.childNodes)}function A(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Z(e,t,n){e.classList[n?"add":"remove"](t)}let F;function D(e){F=e}function Ce(){if(!F)throw new Error("Function called outside component initialization");return F}function Ee(e){Ce().$$.on_mount.push(e)}const k=[],I=[];let E=[];const q=[],ze=Promise.resolve();let H=!1;function Ae(){H||(H=!0,ze.then(ae))}function P(e){E.push(e)}function se(e){q.push(e)}const R=new Set;let S=0;function ae(){if(S!==0)return;const e=F;do{try{for(;S<k.length;){const t=k[S];S++,D(t),De(t.$$)}}catch(t){throw k.length=0,S=0,t}for(D(null),k.length=0,S=0;I.length;)I.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];R.has(n)||(R.add(n),n())}E.length=0}while(k.length);for(;q.length;)q.pop()();H=!1,R.clear(),D(e)}function De(e){if(e.fragment!==null){e.update(),N(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}function Fe(e){const t=[],n=[];E.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),E=t}const L=new Set;let Ie;function T(e,t){e&&e.i&&(L.delete(e),e.i(t))}function K(e,t,n,o){if(e&&e.o){if(L.has(e))return;L.add(e),Ie.c.push(()=>{L.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function ce(e,t,n){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function fe(e){e&&e.c()}function U(e,t,n,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||P(()=>{const l=e.$$.on_mount.map(oe).filter(re);e.$$.on_destroy?e.$$.on_destroy.push(...l):N(l),e.$$.on_mount=[]}),i.forEach(P)}function G(e,t){const n=e.$$;n.fragment!==null&&(Fe(n.after_update),N(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Me(e,t){e.$$.dirty[0]===-1&&(k.push(e),Ae(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(e,t,n,o,r,i,l,s=[-1]){const f=F;D(e);const a=e.$$={fragment:null,ctx:[],props:i,update:j,not_equal:r,bound:Y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:Y(),dirty:s,skip_bound:!1,root:t.target||f.$$.root};l&&l(a.root);let p=!1;if(a.ctx=n?n(e,t.props||{},(u,h,...m)=>{const y=m.length?m[0]:h;return a.ctx&&r(a.ctx[u],a.ctx[u]=y)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](y),p&&Me(e,u)),h}):[],a.update(),p=!0,N(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){const u=ke(t.target);a.fragment&&a.fragment.l(u),u.forEach(B)}else a.fragment&&a.fragment.c();t.intro&&T(e.$$.fragment),U(e,t.target,t.anchor,t.customElement),ae()}D(f)}class Q{$destroy(){G(this,1),this.$destroy=j}$on(t,n){if(!re(n))return j;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!be(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ee=['A new study by Metro Vancouver has found that 43 per cent of Metro residents still prefer detached, single family homes, though details like income or how often someone moves can have a big impact. <span class="scroll-more">Scroll for more...</span>',"Nine per cent of Metro households moved at least twice from 2020-2023. These households often preferred a diverse mix of housing.",'20% of Metro households moved once from 2020-2023. They had a slight preference for <span class="green-01">attached</span> and <span class="grey">detached</span> homes.','71% of Metro households didn\u2019t move from 2020-2023. One-third of them preferred <span class="grey">detached homes</span>.'];function $e(e){let t,n;const o=e[7].default,r=_e(o,e,e[6],null);return{c(){t=g("div"),r&&r.c()},m(i,l){C(i,t,l),r&&r.m(t,null),e[8](t),n=!0},p(i,[l]){r&&r.p&&(!n||l&64)&&xe(r,o,i,i[6],n?ve(o,i[6],l,null):we(i[6]),null)},i(i){n||(T(r,i),n=!0)},o(i){K(r,i),n=!1},d(i){i&&B(t),r&&r.d(i),e[8](null)}}}function Oe(e,t,n){let{$$slots:o={},$$scope:r}=t,{root:i=null}=t,{top:l=0}=t,{bottom:s=0}=t,{increments:f=100}=t,{value:a=void 0}=t;const p=[],u=[];let h=[],m=[],y;const z=()=>{!h.length||h.forEach(v)},d=()=>{let c=0,x=0;for(let w=0;w<p.length;w++)p[w]>c&&(c=p[w],x=w);c>0?n(1,a=x):n(1,a=void 0)},v=(c,x)=>{const w=X=>{X[0].isIntersecting;const he=X[0].intersectionRatio;p[x]=he,d()},ue=l?l*-1:0,de=s?s*-1:0,pe=`${ue}px 0px ${de}px 0px`,me={root:i,rootMargin:pe,threshold:u};m[x]&&m[x].disconnect();const W=new IntersectionObserver(w,me);W.observe(c),m[x]=W};Ee(()=>{for(let c=0;c<f+1;c++)u.push(c/f);h=y.querySelectorAll(":scope > *"),z()});function M(c){I[c?"unshift":"push"](()=>{y=c,n(0,y)})}return e.$$set=c=>{"root"in c&&n(2,i=c.root),"top"in c&&n(3,l=c.top),"bottom"in c&&n(4,s=c.bottom),"increments"in c&&n(5,f=c.increments),"value"in c&&n(1,a=c.value),"$$scope"in c&&n(6,r=c.$$scope)},e.$$.update=()=>{e.$$.dirty&24&&z()},[y,a,i,l,s,f,r,o,M]}class Le extends Q{constructor(t){super(),J(this,t,Oe,$e,V,{root:2,top:3,bottom:4,increments:5,value:1})}}function te(e,t,n){const o=e.slice();return o[2]=t[n],o[4]=n,o}function ne(e){let t,n,o,r=e[2]+"",i;return{c(){t=g("li"),n=g("div"),o=g("p"),i=O(),b(n,"class","step-content svelte-1cz9r95"),b(t,"class","step svelte-1cz9r95"),Z(t,"active",e[0]===e[4])},m(l,s){C(l,t,s),_(t,n),_(n,o),o.innerHTML=r,_(t,i)},p(l,s){s&1&&Z(t,"active",l[0]===l[4])},d(l){l&&B(t)}}}function Ne(e){let t,n=ee,o=[];for(let r=0;r<n.length;r+=1)o[r]=ne(te(e,n,r));return{c(){for(let r=0;r<o.length;r+=1)o[r].c();t=Se()},m(r,i){for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(r,i);C(r,t,i)},p(r,i){if(i&1){n=ee;let l;for(l=0;l<n.length;l+=1){const s=te(r,n,l);o[l]?o[l].p(s,i):(o[l]=ne(s),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(r){Be(o,r),r&&B(t)}}}function Te(e){let t,n,o;function r(l){e[1](l)}let i={$$slots:{default:[Ne]},$$scope:{ctx:e}};return e[0]!==void 0&&(i.value=e[0]),t=new Le({props:i}),I.push(()=>ce(t,"value",r)),{c(){fe(t.$$.fragment)},m(l,s){U(t,l,s),o=!0},p(l,[s]){const f={};s&33&&(f.$$scope={dirty:s,ctx:l}),!n&&s&1&&(n=!0,f.value=l[0],se(()=>n=!1)),t.$set(f)},i(l){o||(T(t.$$.fragment,l),o=!0)},o(l){K(t.$$.fragment,l),o=!1},d(l){G(t,l)}}}function Re(e,t,n){let{currentStep:o}=t;function r(i){o=i,n(0,o)}return e.$$set=i=>{"currentStep"in i&&n(0,o=i.currentStep)},[o,r]}class je extends Q{constructor(t){super(),J(this,t,Re,Te,V,{currentStep:0})}}function qe(e){let t,n,o,r,i,l,s,f,a,p,u,h,m;function y(d){e[1](d)}let z={};return e[0]!==void 0&&(z.currentStep=e[0]),u=new je({props:z}),I.push(()=>ce(u,"currentStep",y)),{c(){t=g("section"),n=g("header"),n.innerHTML="<h1>Single family homes preferred by nearly half of Metro residents</h1>",o=O(),r=g("div"),i=g("iframe"),s=O(),f=g("div"),f.innerHTML='<a class="flourish-credit" href="https://public.flourish.studio/visualisation/3706064/?utm_source=embed&amp;utm_campaign=visualisation/3706064" target="_top" style="text-decoration:none!important"><img alt="Made with Flourish" src="https://public.flourish.studio/resources/made_with_flourish.svg" style="width:105px!important;height:16px!important;border:none!important;margin:0!important;"/></a>',a=O(),p=g("ul"),fe(u.$$.fragment),ye(i.src,l=Pe)||b(i,"src",l),b(i,"frameborder","0"),b(i,"scrolling","no"),A(i,"width","100%"),A(i,"height",He),b(i,"title","flourish-embed"),b(r,"class","chart sticky svelte-h0tfb1"),A(f,"width","100%!"),A(f,"margin-top","4px",1),A(f,"text-align","right",1),b(t,"class","scrollyteller sticky svelte-h0tfb1"),b(p,"class","steps svelte-h0tfb1")},m(d,v){C(d,t,v),_(t,n),_(t,o),_(t,r),_(r,i),_(t,s),_(t,f),C(d,a,v),C(d,p,v),U(u,p,null),m=!0},p(d,[v]){const M={};!h&&v&1&&(h=!0,M.currentStep=d[0],se(()=>h=!1)),u.$set(M)},i(d){m||(T(u.$$.fragment,d),m=!0)},o(d){K(u.$$.fragment,d),m=!1},d(d){d&&B(t),d&&B(a),d&&B(p),G(u)}}}const He="575px",Pe="https://flo.uri.sh/story/2739624/embed";function Ve(e,t,n){let o,r;const i=function(s){r=document.querySelector("#app .chart > iframe"),r.src=r.src.replace(/#slide-.*/,"")+"#slide-"+s};function l(s){o=s,n(0,o)}return e.$$.update=()=>{e.$$.dirty&1&&(o===0||o===1||o===2||o===3)&&i(o)},[o,l]}class Ke extends Q{constructor(t){super(),J(this,t,Ve,qe,V,{})}}new Ke({target:document.getElementById("app")});
